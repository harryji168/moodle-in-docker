define("gradereport_grader/stickycolspan",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;
/**
   * Javascript module for fixing the position of sticky headers with multiple colspans
   *
   * @module      gradereport_grader/stickycolspan
   * @copyright   2022 Bas Brands <bas@moodle.com>
   * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */
const SELECTORS_GRADEPARENT=".gradeparent",SELECTORS_STUDENTHEADER="#studentheader",SELECTORS_TABLEHEADER="th.header",SELECTORS_BEHAT="body.behat-site",SELECTORS_TABLEHEADING="tr.heading",SELECTORS_GRADERDROPDOWN="tr th.category .dropdown-menu";_exports.init=()=>{const grader=document.querySelector(SELECTORS_GRADEPARENT),tableHeaders=grader.querySelectorAll(SELECTORS_TABLEHEADER);let i=0;tableHeaders.forEach((tableHeader=>{tableHeader.colSpan<=1&&(tableHeader.style.zIndex=tableHeaders.length-i),i++}));const categoryDropdowns=grader.querySelectorAll(SELECTORS_GRADERDROPDOWN);categoryDropdowns.forEach((dropdown=>{dropdown.style.zIndex=tableHeaders.length+categoryDropdowns.length+1}));if(grader.querySelector(SELECTORS_TABLEHEADING).style.zIndex=tableHeaders.length+1,!document.querySelector(SELECTORS_BEHAT)){const studentHeader=grader.querySelector(SELECTORS_STUDENTHEADER),leftOffset=getComputedStyle(studentHeader).getPropertyValue("left"),rightOffset=getComputedStyle(studentHeader).getPropertyValue("right");tableHeaders.forEach((tableHeader=>{if(tableHeader.colSpan>1){const addOffset=tableHeader.offsetWidth-studentHeader.offsetWidth;window.right_to_left()?tableHeader.style.right="calc("+rightOffset+" - "+addOffset+"px )":tableHeader.style.left="calc("+leftOffset+" - "+addOffset+"px )"}}))}}}));

//# sourceMappingURL=stickycolspan.min.js.map